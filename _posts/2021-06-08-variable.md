---
layout: single
title: "[Javascript] 변수의 개념 / 선언과 호이스팅 TDZ"
---

# 변수란?

프로그램을 간단하게 정의하자면 데이터를 입력받아 처리하고 결과를 출력하는 명령어들의 모음이다. 그래서 프로그래밍 언어는 데이터를 관리해야하고 이를 위해 변수라는 개념을 사용한다.

## 왜 필요한가?

컴퓨터는 CPU를 사용해 데이터를 처리하고 메모리를 사용해 데이터를 기억한다. `1 + 2` 라는 자바스크립트 코드를 실행한다고 했을 때 숫자 1과 2는 메모리 상의 임의의 위치에 저장되고 CPU는 값을 읽어 들여 연산을 하고 결과도 마찬가지로 임의의 위치에 저장한다. 하지만 개발자는 메모리 주소에 접근할 수가 없기 때문에 연산 결과를 재사용할 수 없다.
따라서 프로그래밍 언어는 값을 메모리에 저장하고 저장된 값을 재사용하기 위해 변수라는 매커니즘을 제공한다.

그렇다면 변수를 다음과 같이 정의할 수 있다.

> 값을 저장하기 위해 확보한 메모리 공간을 식별하기 위해 붙인 이름

메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름을 **변수 이름**, 변수에 저장된 값을 **변수 값**, 변수에 값을 저장하는 것을 **할당**, 변수에 저장된 값을 읽어 들이는 것을 **참조**라한다.

<br>

# 변수 선언

변수 선언이란 변수를 생성하는 것을 말한다.
좀 더 자세히 말하면 값을 저장하기 위해 메모리 공간을 확보하고 변수의 이름과 메모리 공간을 연결하여 값을 저장할 수 있게 준비하는 것이다.
자바스크립트에서 변수를 선언할 때는 **`var, let, const`** 키워드를 사용한다.

자바스크립트 엔진은 변수를 선언할 때 다음과 같은 2단계에 걸쳐 수행한다.
- 선언 단계: 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알림
- 초기화 단계: 값을 저장하기 위한 메모리 공간을 확보하고 undefined를 할당해 초기화

<br>

# 호이스팅

`호이스팅`은 변수 선언이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트의 독특한 특징이다. 다음 코드를 살펴보자.

```javascript
console.log(value);

var value;
```

자바스크립트는 인터프리터 언어로 코드의 최상단에서 부터 한 줄씩 순차적으로 실행된다. 따라서 value가 선언되기 전에 console.log(value)가 실행되어 참조 에러가 발생할 것 같지만 undefined가 출력된다.

그 이유는 변수 선언이 런타임 이전에 먼저 실행되기 때문이다. 자바스크립트 엔진은 코드를 실행하기 전에 변수 선언문을 찾아내 먼저 실행한다. 따라서 변수 선언이 어디에 위치하든지 변수를 참조할 수 있다.

변수뿐만 아니라 var, let, const, function, class 키워드를 사용한 모든 선언문이 호이스팅된다.

흔히 var의 호이스팅으로 인한 문제점 때문에 let과 const를 사용하여 let과 const는 호이스팅이 되지 않는다 라는 오해를 하기도 한다. let과 const도 var와 마찬가지로 호이스팅이 발생하지만 왜 다르게 동작하는지 알기 위해서 `TDZ`에 대해 알아야한다.

<br>

# TDZ(Temporal Dead Zone)란?
TDZ(Temporal Dead Zone)을 직역하면 일시적인 사각지대로 해석할 수 있다.
변수의 선언과 초기화 사이의 변수에 접근할 수 없는 지점을 TDZ라고 한다.
변수의 선언을 선언 단계와 초기화 단계로 구분해서 설명했는데 var와 let/const의 차이는 여기서 발생한다.

var 키워드로 선언한 변수는 선언과 초기화가 동시에 일어난다. 따라서 호이스팅이 일어났을 때 초기화까지 진행한다. 그렇기 때문에 변수를 선언하기 전에 호출을 해도 undefined로 호출이 된다.

반면에 let/const는 선언과 초기화 단계가 분리되서 진행된다. 따라서 호이스팅이 일어나 선언 단계가 진행되었지만 아무런 값도 할당되지 않아 참조 에러가 발생하게 된다.

